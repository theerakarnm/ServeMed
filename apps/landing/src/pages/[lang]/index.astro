---
import '@workspace/ui/globals.css';
import Layout from '../../layouts/Layout.astro';
import { Button } from '@workspace/ui/components/button';
import { Card } from '@workspace/ui/components/card';
import { PhoneCall, Mail, Stethoscope, Store, Users, CheckCircle2, BookOpen, ShoppingCart, Pill, PersonStanding } from 'lucide-react';
import { languages, defaultLang } from '../../i18n/ui';
import { getLangFromUrl, useTranslations } from '../../utils/i18n';
import { ContactForm } from '@/components/contact-form';
import { ContactInfo } from '@/components/contact-info';
import { TopBar, NavigateBar } from '@/components/navbar';
import Footers from '@/components/Footers.astro';

const { lang } = Astro.params;

export function getStaticPaths() {
  return Object.keys(languages).map(lang => ({ params: { lang } }));
}

const t = useTranslations(lang as keyof typeof languages);
---

<Layout
  title='ServeMed - Your One-Stop Medical and Wellness Solution'
  lang={lang}>
  <main class='min-h-screen'>
    <!-- Header/Navigation -->
    <TopBar />
    <NavigateBar
      client:only
      lang={lang as keyof typeof languages}
    />

    <!-- Hero Section -->
    <section class='relative bg-cover bg-[url(/cover.avif)]'>
      <div class='relative container bg-gradient-to-r from-blue-100 to-transparent bg-opacity-20'>
        <div class='container mx-auto px-4 py-20'>
          <div class='grid md:grid-cols-2 gap-12 items-center'>
            <div>
              <h1 class='text-4xl md:text-5xl font-bold text-gray-900 mb-6'>
                {t('hero.title')}
              </h1>
              <p class='text-xl text-gray-600 mb-8'>
                {t('hero.subtitle')}
              </p>
              <div class='flex gap-4'>
                <Button
                  size='lg'
                  className='bg-[#4CAF50] hover:bg-[#45a049]'>
                  {t('common.purchase.medicine')}
                </Button>
              </div>
            </div>

            <!-- <div class='relative'>
            <img
              src='https://images.unsplash.com/photo-1576091160550-2173dba999ef?auto=format&fit=crop&q=80'
              alt='Medical Professional'
              class='rounded-lg shadow-xl'
              width='600'
              height='400'
            />
          </div> -->
          </div>
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section
      id='services'
      class='py-20'>
      <div class='container mx-auto px-4'>
        <h2 class='text-3xl font-bold text-center mb-6'>{t('services.title')}</h2>
        <div class='grid md:grid-cols-3 gap-8 mt-12'>
          <Card className='relative overflow-hidden group hover:shadow-lg transition-shadow duration-300'>
            <div class='absolute inset-0 bg-gradient-to-r from-green-50 to-blue-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300'></div>
            <div class='p-8 relative'>
              <div class='bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mb-6'>
                <Stethoscope className='w-8 h-8 text-[#4CAF50]' />
              </div>
              <h3 class='text-xl font-semibold mb-3'>{t('services.order.clinic.title')}</h3>
              <p class='text-gray-600 mb-6'>{t('services.order.clinic.desc')}</p>
              <Button
                variant='outline'
                className='w-full'>
                {t('common.learn.more')}
              </Button>
            </div>
          </Card>
          <Card className='relative overflow-hidden group hover:shadow-lg transition-shadow duration-300'>
            <div class='absolute inset-0 bg-gradient-to-r from-green-50 to-blue-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300'></div>
            <div class='p-8 relative'>
              <div class='bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mb-6'>
                <Pill className='w-8 h-8 text-[#4CAF50]' />
              </div>
              <h3 class='text-xl font-semibold mb-3'>{t('services.order.pharmacy.title')}</h3>
              <p class='text-gray-600 mb-6'>{t('services.order.pharmacy.desc')}</p>
              <Button
                variant='outline'
                className='w-full'>
                {t('common.learn.more')}
              </Button>
            </div>
          </Card>
          <Card className='relative overflow-hidden group hover:shadow-lg transition-shadow duration-300'>
            <div class='absolute inset-0 bg-gradient-to-r from-green-50 to-blue-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300'></div>
            <div class='p-8 relative'>
              <div class='bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mb-6'>
                <PersonStanding className='w-8 h-8 text-[#4CAF50]' />
              </div>
              <h3 class='text-xl font-semibold mb-3'>{t('services.order.client.title')}</h3>
              <p class='text-gray-600 mb-6'>{t('services.order.client.desc')}</p>
              <Button
                variant='outline'
                className='w-full'>
                {t('common.learn.more')}
              </Button>
            </div>
          </Card>
        </div>
      </div>
    </section>

    <!-- Highlights Section -->
    <section class='bg-gray-50 py-20 container'>
      <div class='container mx-auto px-4'>
        <div class='grid md:grid-cols-2 gap-12 items-center'>
          <div>
            <h2 class='text-3xl font-bold mb-6'>{t('highlights.title')}</h2>
            <p class='text-lg text-gray-600 mb-8'>{t('highlights.intro')}</p>
            <ul class='space-y-4'>
              <li class='grid grid-cols-12 items-start gap-3'>
                <CheckCircle2 className='w-6 h-6 text-[#4CAF50] mt-1' />
                <span class='text-green-800 col-span-11'>{t('highlights.quality')}</span>
              </li>
              <li class='grid grid-cols-12 items-start gap-3'>
                <CheckCircle2 className='w-6 h-6 text-[#4CAF50] mt-1' />
                <span class='text-green-800 col-span-11'>{t('highlights.guide')}</span>
              </li>
              <li class='grid grid-cols-12 items-start gap-3'>
                <CheckCircle2 className='w-6 h-6 text-[#4CAF50] mt-1' />
                <span class='text-green-800 col-span-11'>{t('highlights.innovation')}</span>
              </li>
              <li class='grid grid-cols-12 items-start gap-3'>
                <CheckCircle2 className='w-6 h-6 text-[#4CAF50] mt-1' />
                <span class='text-green-800 col-span-11'>{t('highlights.ai')}</span>
              </li>
            </ul>
          </div>
          <div class='relative'>
            <img
              src='https://images.unsplash.com/photo-1587351021759-3e566b6af7cc?auto=format&fit=crop&q=80'
              alt='Medical Warehouse'
              class='rounded-lg shadow-xl'
              width='600'
              height='400'
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section
      id='contact'
      class='py-20 container'>
      <div class='grid grid-cols-2 mx-auto gap-6 px-4'>
        <ContactForm lang={lang as keyof typeof languages} />
        <ContactInfo lang={lang as keyof typeof languages} />
      </div>
    </section>
    <!-- Footer -->
    <Footers />
  </main>
</Layout>
